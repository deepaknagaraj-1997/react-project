name: Manual Approval Deployment Workflow
  
on:
 push: 
   branches:
     - dev 

jobs:
 test:
   runs-on: ubuntu-latest
   steps:
     - name: Run tests
       run: |
         echo "Running tests..."
    
 hold:
   needs: test
   runs-on: ubuntu-latest
   steps:
     - name: Await manual approval
       uses: trstringer/manual-approval@v1
       with:
         secret: ${{ secrets.GITHUB_TOKEN }}
         approvers: deepaknagaraj-1997
         issue-title: "Manual approval required for workflow run ${{ github.run_id }}"
         issue-body: |
          Workflow is pending manual review. Respond 'approved', 'approve', 'lgtm', 'yes' to continue workflow or 'denied', 'deny', 'no' to cancel
 

 deploy:
   needs: hold
   runs-on: ubuntu-latest
   steps:
     - name: Deploy to staging
       run: |
         echo "Deploying to staging..."
         # Add your deployment commands here
